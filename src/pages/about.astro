---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getEntry, getCollection } from 'astro:content';

const pageTitle = "My Story";
const storyCollection = await getCollection('story');
const storyEntry = storyCollection[0];

if (!storyEntry) {
  throw new Error("Could not find any content entry in 'src/content/story/'. Ensure 'myStory.mdx' exists there.");
}

const { Content } = await storyEntry.render();
const { heroBackground, heroCutout } = storyEntry.data;
---

<BaseLayout pageTitle={pageTitle}>
  
  <!-- Hero Section -->
  <section class="relative w-full pb-8 overflow-visible">
    
    <div class="w-full mx-auto relative group">
        
        <div class="aspect-[16/9] md:aspect-[21/9] w-full overflow-hidden relative shadow-lg">
             <img 
              src={heroBackground} 
              class="w-full h-full object-cover opacity-90"
              alt="Data Background"
            />
            <div class="absolute inset-0 bg-black/10"></div>
            
           <div class="absolute -bottom-10 md:-bottom-16 left-1/2 transform -translate-x-1/2  w-100 md:w-[650px] z-10 ">
             <img 
               src={heroCutout} 
               alt="Francesco" 
               class="w-full h-auto drop-shadow-2xl hover:scale-105 transition duration-500 ease-out"
             />
        </div>
        </div>

    </div>

  </section>

  <!-- Contenuto Articolo con struttura a 5 colonne (1-3-1) -->
 <article class="w-full grid grid-cols-1 md:grid-cols-5 px-6 py-12 md:py-20 gap-y-8">
      
      <Content />

</article>
</BaseLayout>
